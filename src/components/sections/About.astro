---
import def from "../../data/def.json";
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
}

const site = Astro.site;
const { title } = Astro.props;
---

<!-- ============================================ --><!--                  Services                    --><!-- ============================================ -->
<section id="about" class="w-full min-h-screen bg-tertiary-yellow">
  <div class="cs-container">
    <!-- Left Content Section-->
    <div class="cs-content">
      <span class="cs-topper"><slot /></span>
      <h2 class="cs-title text-4xl">{title}</h2>
    </div>
    <ul class="cs-card-group">
      {
        def.map((story) => (
          <li class="cs-item rounded-xl shadow-xl relative">
            <picture class="cs-icon-wrapper rounded-lg absolute top">
              <Icon name={story.icon} size={60} />
            </picture>
            <h3 class="cs-h3">{story.title}</h3>
            <p class="cs-item-text">{story.content}</p>
            <picture class="cs-background rounded-xl">
              <img
                loading="lazy"
                decoding="async"
                src={`${site}img/${story.background}`}
                alt="hair cut"
                width="480"
                height="425"
              />
            </picture>
          </li>
        ))
      }
    </ul>
  </div>
  <!--Waves Background-->
  <div class="cs-waves h-full"></div>
  <div
    class="flex flex-row w-full justify-center pb-4 absolute bottom cs-button"
  >
    <a
      class="px-10 py-2 text-gray-200 bg-blue-500 rounded-full shadow-md text-lg hover:bg-gray-800"
      href="#features"
    >
      How We Match
    </a>
  </div>
</section>

<style>
  /*-- -------------------------- -->
<---          Services          -->
<--- -------------------------- -*/

  /* Mobile - 360px */
  @media only screen and (min-width: 0rem) {
    #about {
      padding: 4rem 0;
      position: relative;
      z-index: 1;
    }
    #about .cs-container {
      width: 100%;
      padding: var(--sectionPadding);
      /* changes to 1440px at tablet */
      max-width: 34.375rem;
      margin: auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      /* 48px - 64px */
      gap: clamp(3rem, 6vw, 4rem);
    }
    #about .cs-content {
      /* set text align to left if content needs to be left aligned */
      text-align: center;
      width: 100%;
      max-width: 50rem;
      display: flex;
      flex-direction: column;
      /* centers content horizontally, set to flex-start to left align */
      align-items: center;
    }

    #about .cs-title,
    #about .cs-text {
      max-width: 100%;
    }
    #about .cs-card-group {
      margin-bottom: 4rem;
      padding: 0;
      width: 100%;
      display: grid;
      grid-template-columns: repeat(12, 1fr);
      /* 16px - 20px */
      gap: clamp(1rem, 5vw, 5rem);
    }
    #about .cs-item {
      width: 100%;
      text-align: center;
      list-style: none;
      /* margin top value to match the negative margin value of the .cs-icon-wrapper */
      margin: 2.75rem 0 0 0;
      /* 24px - 64px bottom */
      /* 24px - 40px left & right */
      background-color: #f7f3ee;
      /* prevents padding and border from affecting height and width */
      box-sizing: border-box;
      grid-column: span 12;
      grid-row: span 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
      z-index: 1;
      min-height: 20rem;
    }

    #about .cs-icon-wrapper {
      width: 5.5rem;
      height: 5.5rem;
      margin: -2.75rem 0 2.25rem 0;
      background-color: var(--primary);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #about .cs-icon {
      width: 2.5rem;
      height: auto;
    }
    #about .cs-h3 {
      /* 20px - 25px */
      font-size: clamp(1.25rem, 2.5vw, 1.5625rem);
      line-height: 1.2em;
      font-weight: bold;
      margin: 0 0 0.75rem 0;
      color: var(--headerColor);
    }
    #about .cs-item-text {
      /* 14px - 16px */
      font-size: clamp(0.875rem, 1.5vw, 1rem);
      line-height: 1.5em;
      max-width: 18.75rem;
      margin: 0 0 2rem 0;
      padding: 0;
      color: var(--bodyTextColor);
    }

    #about .cs-background {
      width: 100%;
      height: 100%;
      display: block;
      position: absolute;
      overflow: hidden;
      top: 0;
      left: 0;
      z-index: -1;
      transition: opacity 0.3s;
    }
    #about .cs-background:before {
      /* background color overlay */
      content: "";
      position: absolute;
      display: block;
      height: 100%;
      width: 100%;
      background: #f2f2f2;
      opacity: 0.97;
      top: 0;
      left: 0;
      z-index: 1;
    }
    #about .cs-background img {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      /* Makes img tag act as a background image */
      object-fit: cover;
    }
    #about .cs-waves {
      width: 100%;
      background: linear-gradient(
        #00000000 0%,
        var(--pastelBlue) 35%,
        var(--pastelBlue) 100%
      );

      position: absolute;
      bottom: 0;
      left: 0;
      z-index: -1;
      background-image: url("https://static-cse.canva.com/_next/static/assets/wave_w2881xh801_98aaf3a37b4d733bdb3bc7754c25ad3608c520c5ebb9b1079f2d0c2f78b07ab8.png");
      background-repeat: no-repeat;
      background-position: bottom;
    }
    #about .cs-waves img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
    }
  }
  /* Tablet - 768px */
  @media only screen and (min-width: 48rem) {
    #about .cs-container {
      max-width: 90rem;
      width: 90%;
    }
    #about .cs-item {
      grid-column: span 6;
      min-height: 20rem;
    }
  }
  /* Large Desktop - 1024px */
  @media only screen and (min-width: 81.25rem) {
    #about .cs-item {
      grid-column: span 6;
    }
  }
  #about .cs-title {
    font-weight: 400;
  }

  #about .cs-topper {
    color: rgb(251 113 133);
  }
</style>
